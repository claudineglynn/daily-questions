<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>JSON sandbox</title>
    </head>
    <body>
        <ul id="people"></ul>
        <script>
            // useful youtube video here: https://www.youtube.com/watch?v=wI1CWzNtE-M


            /*
            var person = {
                name:"darren",
                age:35,
                address:{
                    street:"5 main street",
                    city: "london"
                },
                children: ['adam', 'becky', 'clive']
            }

            console.log(person.address.street)
            console.log(person.children[0])  // js arrays are zero based (same as py)

            // convert to a json string
            person = JSON.stringify(person)

            console.log(person)

            // convert back to an object
            person = JSON.parse(person)
            console.log(person)

            var people = [{
                name:"derrick",
                age:45
            },
            {
                name:"vicky",
                age:20
            },
            {
                name:"roy",
                age:75
            }
            ]

            console.log(people[1])
            console.log(people[1].age)

            // loop through array (of people)
            var output = ''
            for (var i = 0; i < people.length; i++) {
                console.log(people[i])
                output += '<li>' + people[i].name + '</li>'
            }
            console.log(output)
            document.getElementById('people').innerHTML = output
            */

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                // Typical action to be performed when the document is ready:
                //document.getElementById("demo").innerHTML = xhttp.responseText;
                console.log(xhttp.responseText)
                var response = JSON.parse(xhttp.responseText)
                var people = response.people

                var output = ''
                for (var i = 0; i < people.length; i++) {
                    console.log(people[i])
                    output += '<li>' + people[i].name + '</li>'
                }
                console.log(output)
                document.getElementById('people').innerHTML = output
                }
            };
            xhttp.open("GET", "people.json", true);
            xhttp.send();
        </script>


    </body>


</html>